
# 🧠 FRRouting Demo1 

## 📡 拓樸圖

```
        net100                      net200
   192.168.100.0/24            192.168.200.0/24
         |                            |                   
      [frr100] ------------------- [frr200] 
      AS 65000                     AS 65001
      192.168.100.100              192.168.200.200
      192.168.101.100  <-connect-> 192.168.101.200
```

---

## 📘 節點觀察：r1 (AS 65000)

### `show ip route`
```
B>* 192.168.200.0/24 [20/0] via 192.168.101.200, eth1
C>* 192.168.101.0/24 is directly connected, eth1
C>* 192.168.100.0/24 is directly connected, eth0
```

- `C>* 192.168.100.0/24`：本地直連網段
- `C>* 192.168.101.0/24`：與 r2 對接的介面
- `B>* 192.168.200.0/24`：透過 BGP 從 r2 學到

| 符號/代碼    | 意義                              |
| -------- | ------------------------------- |
| `C`      | Connected，直連路由（本地介面）            |
| `B`      | BGP 學來的路由                       |
| `*`      | FIB route（已寫入 Linux kernel）     |
| `>`      | Selected route（選為最佳路由）          |
| `via`    | 指定下一跳 IP 與出介面                   |
| `[20/0]` | BGP 路由度量（LocalPref/Metric）預設 20 |


### `show ip bgp summary`
- 鄰居：192.168.101.200
- 狀態：Established，接收 prefix：1
- 訊息收送正常，uptime 約 3 分鐘

### `show ip bgp`
- 宣告本地 `192.168.100.0/24`
- 學到 r2 宣告的 `192.168.200.0/24`，AS Path 為 65001 i

### `show interface`
- eth0: 192.168.100.100/24
- eth1: 192.168.101.100/24
- 所有介面正常運作

### `show zebra`
- 無異常，僅列出統計框架

---

## 📘 節點觀察：r2 (AS 65001)

### `show ip route`
- `C>* 192.168.101.0/24`、`C>* 192.168.200.0/24`：直連
- `B>* 192.168.100.0/24`：透過 BGP 從 r1 學到

### `show ip bgp summary`
- 鄰居：192.168.101.100
- 狀態：Established，接收 prefix：1

### `show ip bgp`
- 宣告本地 `192.168.200.0/24`
- 學到 r1 宣告的 `192.168.100.0/24`，AS Path 為 65000 i

### `show interface`
- eth0: 192.168.101.200/24
- eth1: 192.168.200.200/24
- 所有介面正常

### `show zebra`
- Route installs = 4，表示路由已成功交由 kernel 寫入

---

## 📊 對照總結

| 項目             | r1                            | r2                            |
|------------------|-------------------------------|-------------------------------|
| ASN              | 65000                         | 65001                         |
| 宣告網段         | 192.168.100.0/24              | 192.168.200.0/24              |
| 學到網段         | 192.168.200.0/24 (BGP)        | 192.168.100.0/24 (BGP)        |
| BGP 鄰居 IP      | 192.168.101.200               | 192.168.101.100               |
| BGP 狀態         | Established                   | Established                   |
| 接收 Prefix 數量 | 1                             | 1                             |
| Interface        | eth0/eth1 = 100.100 / 101.100 | eth0/eth1 = 101.200 / 200.200 |

---

✅ **實驗成功確認**：
- r1 ↔ r2 間的 BGP peering 建立成功
- 雙方成功交換各自宣告的網段
- 所有介面與 zebra kernel routing 狀態皆正常
